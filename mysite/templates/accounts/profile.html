{% extends "base.html" %}
{% load static %}
{% block content %}
<style >


.tooltip {
  position: relative;
  display: inline-block;
}

.tooltiptext {
  visibility: hidden;
  width: 120px;
  background-color: black;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 5px 0;

  /* Position the tooltip */
  position: absolute;
  z-index: 1;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
}
</style>
<link href="{% static 'assets/css/vendor/fullcalendar.min.css'%}" rel="stylesheet" type="text/css" />

                    <!-- Start Content-->
                    <div class="container-fluid">

                        <!-- start page title -->
                        <div class="row">
                            <div class="col-12">
                                <div class="page-title-box">
                                    <div class="page-title-right">

                                    </div>
                                    <h4 class="page-title">Profile</h4>
                                </div>
                            </div>
                        </div>
                        <!-- end page title -->

                        <div class="row">
                            <div class="col-xl-4 col-lg-5">
                                <div class="card text-center">
                                    <div class="card-body">
                                        <img src="{% if candidate.photo %}{{candidate.photo.url}}{% else %}{% static 'images/avatar.jpg'%}{% endif %}" class="rounded-circle avatar-lg img-thumbnail"
                                        alt="profile-image">

                                        <h4 class="mb-0 mt-2">{{candidate.first_name}}  {{candidate.last_name}}</h4>
                                        <p class="text-muted font-14">Student</p>

                                        <button type="button" class="btn btn-success btn-sm mb-2">Contact Administration</button>


                                        <div class="text-start mt-3" >



                                            <p class="text-muted mb-2 font-13"><strong>Mobile :</strong><span class="ms-2">{{candidate.contact_number}}</span></p>

                                            <p class="text-muted mb-2 font-13"><strong>Email :</strong> <span class="ms-2 ">{{candidate.email}}</span></p>

                                            <p class="text-muted mb-1 font-13"><strong>Current Employee Name :</strong> <span class="ms-2">{{candidate.currentCompany}}</span></p>
                                        </div>

                                        <ul class="social-list list-inline mt-3 mb-0">
                                            <li class="list-inline-item">
                                                <a href="javascript: void(0);" class="social-list-item border-primary text-primary"><i
                                                        class="mdi mdi-facebook"></i></a>
                                            </li>
                                            <li class="list-inline-item">
                                                <a href="javascript: void(0);" class="social-list-item border-danger text-danger"><i
                                                        class="mdi mdi-google"></i></a>
                                            </li>
                                            <li class="list-inline-item">
                                                <a href="javascript: void(0);" class="social-list-item border-info text-info"><i
                                                        class="mdi mdi-twitter"></i></a>
                                            </li>
                                            <li class="list-inline-item">
                                                <a href="javascript: void(0);" class="social-list-item border-secondary text-secondary"><i
                                                        class="mdi mdi-github"></i></a>
                                            </li>
                                        </ul>
                                    </div> <!-- end card-body -->
                                </div> <!-- end card -->

                                <!-- Messages-->
                                <div class="card">
                                    <div class="card-body">
                                        <div class="dropdown float-end">
                                            <a href="#" class="dropdown-toggle arrow-none card-drop" data-bs-toggle="dropdown" aria-expanded="false">
                                                <i class="mdi mdi-dots-vertical"></i>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-end">
                                                <!-- item-->
                                                <a href="javascript:void(0);" class="dropdown-item">Settings</a>
                                                <!-- item-->
                                                <a href="javascript:void(0);" class="dropdown-item">Action</a>
                                            </div>
                                        </div>
                                        <h4 class="header-title mb-3">Certificates</h4>

                                        <div class="inbox-widget">
                                        {% for item in lecturer.certificates.all %}
                                            <div class="inbox-item">
                                                <div class="inbox-item-img"><img src="{% static 'assets/images/users/cer.png'%}" class="rounded-circle" alt=""></div>
                                                <p style="max-width:180px;" class="inbox-item-author">{{item.name}}</p>
                                                <p class="inbox-item-text">{{item.institute}}</p>
                                                <p class="inbox-item-date">
                                                    <a href="#" class="btn btn-sm btn-link text-info font-13"> {{item.expiryDate| date}} </a>
                                                </p>
                                            </div>
                                            <hr>
                                        {% endfor %}




                                        </div> <!-- end inbox-widget -->
                                    </div> <!-- end card-body-->
                                </div> <!-- end card-->

                            </div> <!-- end col-->

                            <div class="col-xl-8 col-lg-7">
                                <div class="card">
                                    <div class="card-body">
                                        <ul class="nav nav-pills bg-nav-pills nav-justified mb-3">
                                          <li class="nav-item">
                                                <a href="#dashboard" data-bs-toggle="tab" aria-expanded="true" class="nav-link rounded-0 active">
                                                     Dashboard
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="#myCalendar" data-bs-toggle="tab" aria-expanded="false" class="nav-link rounded-0">
                                                     Calendar
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="#evens" data-bs-toggle="tab" aria-expanded="false" class="nav-link rounded-0 ">
                                                    Events
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="#certificates" data-bs-toggle="tab" aria-expanded="false" class="nav-link rounded-0 ">
                                                    Certificates
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="#settings" data-bs-toggle="tab" aria-expanded="false" class="nav-link rounded-0">
                                                    Settings
                                                </a>
                                            </li>
                                        </ul>
                                        <div class="tab-content">
                                            <div class="tab-pane" id="myCalendar">

                                <div class="card">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-lg-0">

                                                <div id="external-events" class="m-t-20">
                             <div id="calendar"></div>
                                                </div>

                                            </div> <!-- end col-->

                                        </div>  <!-- end row -->
                                    </div> <!-- end card body-->
                                </div> <!-- end card -->

                                <!-- Add New Event MODAL -->
                                <div class="modal fade" id="event-modal" tabindex="-1">
                                    <div class="modal-dialog">

                                    </div> <!-- end modal dialog-->
                                </div>

                                            </div> <!-- end tab-pane -->
                                            <!-- end about me section content -->


                             <div class="tab-pane" id="timeline">
                                                <!-- end timeline -->

                                                <h5 class="mb-3 mt-4 text-uppercase"><i class="mdi mdi-cards-variant me-1"></i>
                                                    Projects</h5>
                                                <div class="table-responsive">

                                                </div>

                             </div>
                         <div class="tab-pane show active" id="dashboard">
                                                <!-- end timeline -->


                             <div class="text-start mt-3" >
                                            <h4 class="font-13 text-uppercase">About Me :</h4>
                                            <p class="text-muted font-13 mb-3" style="text-align:justify">
                                              {{candidate.aboutMe}}
                                            </p>
                                 </div>

                             </div>


                                            <div class="tab-pane " id="settings">

                                                <form method="POST" enctype="multipart/form-data" >
                                                {% csrf_token %}
          <div class="mb-3">

              <h5 class="mb-3 text-uppercase bg-light p-2"><i class="mdi mdi-office-building me-1"></i>Personal Info</h5>
                                                        <label class="form-label" for="validationCustom01">First Name</label>
                                                        <input type="text" name="first_name" class="form-control" value="{{candidate.first_name}}" placeholder="First name"  required>
                                                        <div class="valid-feedback">
                                                            Looks good!
                                                        </div>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label class="form-label" for="validationCustom01">Middle Name</label>
                                                        <input type="text" title="Write your middle name if you have one!" value="{{candidate.middleName}}"  name="middleName" class="form-control" id="validationCustom01" placeholder="Middle name"  >
                                                        <div class="valid-feedback">
                                                            Looks good!
                                                        </div>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label class="form-label" for="validationCustom02">Last name</label>
                                                        <input type="text" name="last_name" class="form-control" value="{{candidate.last_name}}"  id="validationCustom02" placeholder="Last name" required>
                                                        <div class="valid-feedback">
                                                            Looks good!
                                                        </div>
                                                    </div>
                                                   <div class="mb-3 col-md-12">

                                                <div class="mb-3 position-relative" id="datepicker4">
                                                    <label class="form-label" >Birth Date</label>
                                                    <input type="text" autocomplete="off"  name="birthDate" value="{{candidate.birth_date|date:'m/d/Y'}}"  class="form-control" data-provide="datepicker" data-date-autoclose="true" data-date-container="#datepicker4" required>
                                                </div>
                                                    <div class="mb-3">
                                                        <label class="form-label" for="validationCustomUsername">Email</label>
                                                        <div class="input-group">
                                                            <span class="input-group-text" id="inputGroupPrepend">@</span>
                                                            <input type="email" name="email" value="{{candidate.email}}" class="form-control" id="validationCustomUsername" placeholder="Email"
                                                                aria-describedby="inputGroupPrepend" required>
                                                            <div class="invalid-feedback">
                                                                Please choose a email.
                                                            </div>
                                                        </div>
                                                    </div>
                                                   <div class="row">
                                                        <div class="col-12">
                                                            <div class="mb-3">
                                                                <label for="userbio" class="form-label">About Me</label>
                                                                <textarea class="form-control" name="aboutMe" id="userbio" rows="4" style="text-align:justify" placeholder="Write something...">{{candidate.aboutMe}} </textarea>
                                                            </div>
                                                        </div> <!-- end col -->
                                                    </div> <!-- end row -->
                                                     <div class="mb-3">
                                                        <label class="form-label" for="validationCustomUsername">Password</label>
                                                        <div class="input-group">

                                                            <input type="password" name="password" class="form-control" id="validationCustomPassword" placeholder="Password"
                                                                aria-describedby="inputGroupPrepend" required>
                                                            <div class="invalid-feedback">
                                                                Please choose a password.
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label class="form-label" for="validationCustom03">Contact Number</label>
                                                        <input type="text" name="contact_number" value="{{candidate.contact_number}}" class="form-control" id="validationCustom03" placeholder="Phone" >
                                                        <div class="invalid-feedback">
                                                            Please provide a valid contact number.
                                                        </div>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label class="form-label" >Emergenry Contact</label>
                                                        <input type="text" name= "emergencyContact" value="{{candidate.emergencyContact}}" class="form-control" id="validationCustom06" placeholder="Emergenry Contact" required>
                                                        <div class="invalid-feedback">
                                                            Please provide a valid Emergenry Cantact.
                                                        </div>
                                                    </div>


                                                    <div class="mb-3">
                                                        <label class="form-label" >Address</label>

                                                        <div class="form-floating">
                                                            <textarea  name="address" class="form-control" title="Address should be included with postal code!" placeholder=" Address here" id="floatingTextarea" style="height: 100px;">{{candidate.address}}</textarea>
                                                         <span class="tooltiptext">Tooltip text</span>
                                                        </div>

                                                    </div>

                                                    <br>

                                                    <div class="mb-3 col-md-12">
                                                        <label class="form-label">Photo</label>
                                                        <input class="form-control" name="photo" type="file" id="inputGroupFile04">
                                                    </div>

<br>










                                                    <div class="row g-2">
                                                        <div class="mb-3 col-md-6">
                                                            <label class="form-label">Document 1</label>
                                                            <input class="form-control" name="doc_1" type="file" id="inputGroupFile04">
                                                        </div>
                                                        <div class="mb-3 col-md-6">
                                                            <label class="form-label">Documanet 2</label>
                                                            <input class="form-control" name='doc_2' type="file" id="inputGroupFile05">
                                                        </div>
                                                    </div>



                                                    <br>





                                                    <h5 class="mb-3 text-uppercase bg-light p-2"><i class="mdi mdi-office-building me-1"></i> Company Info</h5>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label for="currentCompany" class="form-label">Current Company Name</label>
                                                                <input type="text" class="form-control" id="currentCompany" value="{{candidate.currentCompany}}" name="currentCompany" placeholder="Enter company name">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label for="cwebsite" class="form-label">Website</label>
                                                                <input type="text" class="form-control" id="cwebsite" name="website" value="{{candidate.website}}"  placeholder="Enter website url">
                                                            </div>
                                                        </div> <!-- end col -->
                                                    </div> <!-- end row -->

                                                    <h5 class="mb-3 text-uppercase bg-light p-2"><i class="mdi mdi-earth me-1"></i> Social</h5>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label for="social-fb" class="form-label">Facebook</label>
                                                                <div class="input-group">
                                                                    <span class="input-group-text"><i class="mdi mdi-facebook"></i></span>
                                                                    <input type="text" class="form-control" name="facebook" value="{{candidate.facebook}}" id="social-fb" placeholder="Url">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label for="social-tw" class="form-label">Twitter</label>
                                                                <div class="input-group">
                                                                    <span class="input-group-text"><i class="mdi mdi-twitter"></i></span>
                                                                    <input type="text" class="form-control" name="twitter" value="{{candidate.twitter}}" id="social-tw" placeholder="Username">
                                                                </div>
                                                            </div>
                                                        </div> <!-- end col -->
                                                    </div> <!-- end row -->

                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label for="social-insta" class="form-label">Instagram</label>
                                                                <div class="input-group">
                                                                    <span class="input-group-text"><i class="mdi mdi-instagram"></i></span>
                                                                    <input type="text" class="form-control" name="instagram" value="{{candidate.instagram}}" id="social-insta" placeholder="Url">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label for="social-lin" class="form-label">Linkedin</label>
                                                                <div class="input-group">
                                                                    <span class="input-group-text"><i class="mdi mdi-linkedin"></i></span>
                                                                    <input type="text" class="form-control" name="linkedin" value="{{candidate.linkedin}}" id="social-lin" placeholder="Url">
                                                                </div>
                                                            </div>
                                                        </div> <!-- end col -->
                                                    </div> <!-- end row -->

                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label for="social-sky" class="form-label">Skype</label>
                                                                <div class="input-group">
                                                                    <span class="input-group-text"><i class="mdi mdi-skype"></i></span>
                                                                    <input type="text" class="form-control" name="skype" value="{{candidate.skype}}" id="social-sky" placeholder="@username">
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div> <!-- end row -->

                                             <div class="mb-3 col-md-12 text-center">
                                                        <button type="submit" class="btn btn-success mt-2"><i class="mdi mdi-content-save"></i> Save</button>
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- end settings content-->

                                        </div> <!-- end tab-content -->
                                    </div> <!-- end card body -->
                                </div> <!-- end card -->
                            </div> <!-- end col -->
                        </div>
                        <!-- end row-->

                    </div>
                    <!-- container -->

                </div>
                <!-- content -->


        <div class="rightbar-overlay"></div>
        <!-- /End-bar -->

        <!-- bundle -->

        <script src="{% static 'assets/js/vendor.min.js'%}"></script>
        <script src="{% static 'assets/js/app.min.js'%}"></script>

        <!-- third party js -->
        <script src="{% static 'assets/js/vendor/jquery-ui.min.js'%}"></script>
        <script src="{% static 'assets/js/vendor/fullcalendar.min.js'%}"></script>


        <script>
            !function(l){"use strict";function e(){this.$body=l("body"),this.$modal=new bootstrap.Modal(document.getElementById("event-modal"),{backdrop:"static"}),this.$calendar=l("#calendar"),this.$formEvent=l("#form-event"),this.$btnNewEvent=l("#btn-new-event"),this.$btnDeleteEvent=l("#btn-delete-event"),this.$btnSaveEvent=l("#btn-save-event"),this.$modalTitle=l("#modal-title"),this.$calendarObj=null,this.$selectedEvent=null,this.$newEventData=null}e.prototype.onEventClick=function(e){this.$formEvent[0].reset(),this.$formEvent.removeClass("was-validated"),this.$newEventData=null,this.$btnDeleteEvent.show(),this.$modalTitle.text("Edit Event"),this.$modal.show(),this.$selectedEvent=e.event,l("#event-title").val(this.$selectedEvent.title),l("#event-category").val(this.$selectedEvent.classNames[0])},e.prototype.onSelect=function(e){this.$formEvent[0].reset(),this.$formEvent.removeClass("was-validated"),this.$selectedEvent=null,this.$newEventData=e,this.$btnDeleteEvent.hide(),this.$modalTitle.text("Add New Event"),this.$modal.show(),this.$calendarObj.unselect()},e.prototype.init=function(){var e=new Date(l.now());new FullCalendar.Draggable(document.getElementById("external-events"),{itemSelector:".external-event",eventData:function(e){return{title:e.innerText,className:l(e).data("class")}}});var t=[
            {% for item in lecturer.events.all %}
            
            {title:'{{item.name  }}',start:new Date('{{item.start_date |date:'Y-m-d' }}'),className:"bg-warning"},
            {% endfor %}
            ],a=this;a.$calendarObj=new FullCalendar.Calendar(a.$calendar[0],{slotDuration:"00:15:00",slotMinTime:"08:00:00",slotMaxTime:"19:00:00",themeSystem:"bootstrap",bootstrapFontAwesome:!1,buttonText:{today:"Today",month:"Month",week:"Week",day:"Day",list:"List",prev:"Prev",next:"Next"},initialView:"dayGridMonth",handleWindowResize:!0,height:l(window).height()-200,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},initialEvents:t,editable:!0,droppable:!0,selectable:!0,dateClick:function(e){a.onSelect(e)},eventClick:function(e){a.onEventClick(e)}}),a.$calendarObj.render(),a.$btnNewEvent.on("click",function(e){a.onSelect({date:new Date,allDay:!0})}),a.$formEvent.on("submit",function(e){e.preventDefault();var t,n=a.$formEvent[0];n.checkValidity()?(a.$selectedEvent?(a.$selectedEvent.setProp("title",l("#event-title").val()),a.$selectedEvent.setProp("classNames",[l("#event-category").val()])):(t={title:l("#event-title").val(),start:a.$newEventData.date,allDay:a.$newEventData.allDay,className:l("#event-category").val()},a.$calendarObj.addEvent(t)),a.$modal.hide()):(e.stopPropagation(),n.classList.add("was-validated"))}),l(a.$btnDeleteEvent.on("click",function(e){a.$selectedEvent&&(a.$selectedEvent.remove(),a.$selectedEvent=null,a.$modal.hide())}))},l.CalendarApp=new e,l.CalendarApp.Constructor=e}(window.jQuery),function(){"use strict";window.jQuery.CalendarApp.init()}();
            
               </script>
        {% endblock %}