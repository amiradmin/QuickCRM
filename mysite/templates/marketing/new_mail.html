{% extends "base.html" %}
{% load static %}
{% block content %}

                    <!-- Start Content-->
                    <div class="container-fluid">

                       <!-- start page title -->
                       <div class="row">
                        <div class="col-12">
                            <div class="page-title-box">
                                <div class="page-title-right">

                                </div>
                                <h4 class="page-title">Marketing Emails</h4>
                            </div>
                        </div>
                    </div>
                    <!-- end page title -->


                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="header-title"> </h4>


                                    <div class="tab-content">
                                        <br>

                                        <form   method="POST" >
                                            {% csrf_token %}
                                            <div class="row g-2">
    <div class="col-md-4">
      <select class="form-control" name="select1" id="select1">
        <option value="1">General Announcement</option>
        <option value="2">Incomplete Document</option>
        <option value="3">Certificate Expiration</option>
        <option value="4">New Course</option>
      </select>
    </div>
    <div class="col-md-4">
      <select class="form-control" name="select2" id="select2">
        <option value="1" data-section1="1">Profile is ready</option>
        <option value="2" data-section1="1">Visit our new course</option>
        <option value="3" data-section1="2">Photo</option>
        <option value="4" data-section1="2">Passport image</option>
        <option value="5" data-section1="3">Re Exam</option>
        <option value="6" data-section1="3">Training</option>
        <option value="7" data-section1="4">NDT</option>
        <option value="8" data-section1="4">Welding Inspection</option>
        <option value="9" data-section1="4">Underwater</option>
      </select>
    </div>
    <div class="col-md-4">
      <select class="form-control" name="select3" id="select3">

          <option value="7">CSWIP</option>
          <option value="7">UT</option>
          <option value="7">RI</option>
          <option value="7">MT</option>
          <option value="7">VT</option>
          <option value="8">Case1</option>
          <option value="8">Case2</option>

          <option value="8">Case6<option>
          <option value="9">Case7<option>
          <option value="9">Case8<option>
          <option value="9">Case9<option>
      </select>
    </div>

  </div>
                                            </div>
                                            <br>
<div class="tab-content text-center">
<button class="btn btn-outline-primary" name="mainForm" type="submit">Update</button>
</div>
                                    <br><br>
                                        </form>

                                        <div class="tab-pane show active" id="basic-datatable-preview">
                                               <label for="inputState" class="form-label">Candidates:</label>
                                            <table id="basic-datatable" class="table dt-responsive  w-100">
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                        <th>ID</th>
                                                        <th>Name</th>
                                                        <th>Email</th>
                                                        <th>Phone</th>

                                                </thead>


                                                <tbody>
                                                    {% for item in candidate_list %}
                                                    <tr>
                                                         <td><input type="checkbox" name="approvedFlag" value="{{item.id}}" {% if item.approved %} checked {% endif %} /></td>
                                                        <td>{{item.id}}</td>
                                                        <td>{{item.first_name}} {% if item.middleName %}{{item.middleName}}{% endif %} {{item.last_name}}</td>
                                                        <td>{{item.email}}</td>
                                                        <td>{{item.contact_number}}</td>


                                                    </tr>
                                                    {%endfor%}
                                                </tbody>
                                            </table>
                                        </div> <!-- end preview-->
                                        <br>
                                        <br>
                                        <br>

                     <div class="mb-3 col-md-12 text-center">
                                    <button onclick="myFunctionButtom()" class="btn btn-primary" name="send" type="submit">Send</button>
                     </div>

                                        <div class="tab-pane" id="basic-datatable-code">




                                        </div> <!-- end preview code-->
                                    </div> <!-- end tab-content-->

                                </div> <!-- end card body-->
                            </div> <!-- end card -->
                        </div><!-- end col-->
                    </div>
                    <!-- end row-->


                    </div>
                    <!-- end row-->

                    </div>
                    <!-- container -->

                </div>
                <!-- content -->
                <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
                <script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/bootstrap.min.js'></script>
                <script>
                    $(document).ready(function(){"use strict";$("#basic-datatable").DataTable({keys:!0,language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}});var a=$("#datatable-buttons").DataTable({lengthChange:!1,buttons:["copy","print"],language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}});$("#selection-datatable").DataTable({select:{style:"multi"},language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}}),a.buttons().container().appendTo("#datatable-buttons_wrapper .col-md-6:eq(0)"),$("#alternative-page-datatable").DataTable({pagingType:"full_numbers",drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}}),$("#scroll-vertical-datatable").DataTable({scrollY:"350px",scrollCollapse:!0,paging:!1,language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}}),$("#scroll-horizontal-datatable").DataTable({scrollX:!0,language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}}),$("#complex-header-datatable").DataTable({language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")},columnDefs:[{visible:!1,targets:-1}]}),$("#row-callback-datatable").DataTable({language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")},createdRow:function(a,e,t){15e4<+e[5].replace(/[\$,]/g,"")&&$("td",a).eq(5).addClass("text-danger")}}),$("#state-saving-datatable").DataTable({stateSave:!0,language:{paginate:{previous:"<i class='mdi mdi-chevron-left'>",next:"<i class='mdi mdi-chevron-right'>"}},drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}}),$(".dataTables_length select").addClass("form-select form-select-sm"),$(".dataTables_length label").addClass("form-label")});


//Reference: https://jsfiddle.net/fwv18zo1/
$(document).ready( function(){
var $order_name = $('#order-name');
var $output = $('#output');
var $select1 = $( '#select1' );
var	$select2 = $( '#select2' );
var	$select3 = $( '#select3' );
var	$options2 = $select2.find( 'option' );
var	$options3 = $select3.find( 'option' );


$select1.on( 'change', function(event) {
    $select2.html(
        $options2.filter(
          function() {
              return $(this).data('section1') == $select1[0].selectedOptions[0].value;
          }
        )
    );
    $select2.trigger('change');
 }).trigger('change');

$select2.on( 'change', function(event) {
    $select3.html(
        $options3.filter(
          function() {
              return $(this).val() == $select2[0].selectedOptions[0].value;
          }
        )
    );
 }).trigger('change');

$order_name.on('keyup', function(){
  $output.val(`utm_source=${$select1[0].selectedOptions[0].innerHTML}_${$select2[0].selectedOptions[0].innerHTML}&utm_medium=${$select3[0].selectedOptions[0].innerHTML}&utm_campaign=${$order_name.val()}`);
});

});
                    </script>


                {% endblock %}